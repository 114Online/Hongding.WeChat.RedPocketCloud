<?xml version="1.0"?>
<!DOCTYPE mycat:schema SYSTEM "schema.dtd">
<mycat:schema xmlns:mycat="http://io.mycat/">

  <schema name="wechat" checkSQLschema="false" sqlMaxLimit="100">
    <table name="Blobs" dataNode="dn1,dn2,dn3,dn4" rule="rule1" primaryKey="Id" autoIncrement="true" />
    <table name="RedPockets" dataNode="dn1,dn2,dn3,dn4" rule="rule1" primaryKey="Id" autoIncrement="true" />
    <table name="Coupons" dataNode="dn1,dn2,dn3,dn4" rule="rule1" primaryKey="Id" autoIncrement="true" />
    <table name="PayLogs" dataNode="dn1,dn2,dn3,dn4" rule="rule1" primaryKey="Id" autoIncrement="true" />
    <table name="Templates" dataNode="dn1,dn2,dn3,dn4" rule="rule1" primaryKey="Id" autoIncrement="true" />
    <table name="Wallets" dataNode="dn1,dn2,dn3,dn4" rule="rule1" primaryKey="Id" autoIncrement="true" />
    <table name="Activities" dataNode="dn1,dn2,dn3,dn4" rule="rule1" primaryKey="Id" autoIncrement="true" />
    
    <table name="AspNetUsers" dataNode="dn1" primaryKey="Id" autoIncrement="true" />
    <table name="AspNetRoles" dataNode="dn1" primaryKey="Id" autoIncrement="true" />
    <table name="AspNetRoleClaims" dataNode="dn1" primaryKey="Id" autoIncrement="true" />
    <table name="AspNetUserTokens" dataNode="dn1" primaryKey="Id" autoIncrement="true" />
    <table name="AspNetUserClaims" dataNode="dn1" primaryKey="Id" autoIncrement="true" />
    <table name="AspNetUserRoles" dataNode="dn1" />
    <table name="AspNetUserLogins" dataNode="dn1" />
  </schema>

  <dataNode name="dn1" dataHost="host1" database="wechat" />
  <dataNode name="dn2" dataHost="host2" database="wechat" />
  <dataNode name="dn3" dataHost="host3" database="wechat" />
  <dataNode name="dn4" dataHost="host4" database="wechat" />

  <dataHost name="host1" maxCon="1000" minCon="10" balance="0"
     writeType="0" dbType="mysql" dbDriver="native">
    <heartbeat>select user()</heartbeat>
    <writeHost host="hostM1" url="10.25.82.191:3306" user="root" password="Sun060810" />
  </dataHost>

  <dataHost name="host2" maxCon="1000" minCon="10" balance="0"
     writeType="0" dbType="mysql" dbDriver="native">
    <heartbeat>select user()</heartbeat>
    <writeHost host="hostM2" url="10.25.82.221:3306" user="root" password="Sun060810" />
  </dataHost>

  <dataHost name="host3" maxCon="1000" minCon="10" balance="0"
     writeType="0" dbType="mysql" dbDriver="native">
    <heartbeat>select user()</heartbeat>
    <writeHost host="hostM3" url="10.25.82.201:3306" user="root" password="Sun060810" />
  </dataHost>

  <dataHost name="host4" maxCon="1000" minCon="10" balance="0"
     writeType="0" dbType="mysql" dbDriver="native">
    <heartbeat>select user()</heartbeat>
    <writeHost host="hostM4" url="10.25.82.238:3306" user="root" password="Sun060810" />
  </dataHost>
</mycat:schema>